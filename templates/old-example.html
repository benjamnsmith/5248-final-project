{% extends 'base.html' %}

{% block title %}
RSA EXAMPLE - SSL
{% endblock %}

{% block header %}
<h2>RSA EXAMPLE - SSL</h2>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type=text/javascript>
        $(function() {
          $('button#priv-key').on('click', function(e) {
            e.preventDefault()
            $.getJSON('/keygen',
                function(data) {
              //do nothing
            });
            return false;
          });
        });
</script>

{% endblock %}


{% block content %}
<p>
    SSL/TLS is how we encrypt data on the transport layer (OSI model) of network transfers.<br>
    We use RSA-based SSL/TLS certificates. <br>
    We can generate these certificates using a program called OpenSSL. 
</p>
<p>
    OpenSSL will generate real, valid RSA key pairs to be used in certifcate signing. <br>
    I made the keys as short as allowable, but it wouldn't let me make a key with less than 256 bits in the modulus
</p>

<ol>
    <li><button id="priv-key">Generate SSL Private Key</button></li>
    <li><span class="code">openssl genrsa -out private-key.pem 256</span></li>
    <ul>
        <li>This will give us something like:</li>
        <p class="mono">
            -----BEGIN RSA PRIVATE KEY-----<br>
MIGtAgEAAiEA2t0N2HNQcId8UScIgouYhwePRlkRVUMzsvcobUReMUUCAwEAAQIh<br>
AJ5KeGQO6qOoadIrv+zi15mjCMTyRxO6b6SN5xIZRifBAhEA7hSGTVh2F3jijrOo<br>
or+UNQIRAOtWQCgAXp6uhYVThnK/qtECEQCFxOR9GuInaBWr5ogvAYOtAhEAgsmu<br>
YgzCiSGops4inEcU4QIRAJPRM4H3BcRMKlNM5TStfLE=<br>
-----END RSA PRIVATE KEY-----
        </p>
        <li>This is the Base64 encoding of our key. In hex, it looks something like this:</li>
        <p class="mono">
            30 81 AD 02 01 00 02 21
00 DA DD 0D D8 73 50 70<br>
87 7C 51 27 08 82 8B 98
87 07 8F 46 59 11 55 43<br>
33 B2 F7 28 6D 44 5E 31
45 02 03 01 00 01 02 21<br>
00 9E 4A 78 64 0E EA A3
A8 69 D2 2B BF EC E2 D7<br>
99 A3 08 C4 F2 47 13 BA
6F A4 8D E7 12 19 46 27<br>
C1 02 11 00 EE 14 86 4D
58 76 17 78 E2 8E B3 A8<br>
A2 BF 94 35 02 11 00 EB
56 40 28 00 5E 9E AE 85<br>
85 53 86 72 BF AA D1 02
11 00 85 C4 E4 7D 1A E2<br>
27 68 15 AB E6 88 2F 01
83 AD 02 11 00 82 C9 AE<br>
62 0C C2 89 21 A8 A6 CE
22 9C 47 14 E1 02 11 00<br>
93 D1 33 81 F7 05 C4 4C
2A 53 4C E5 34 AD 7C B1
        </p>
        <li>This is a HUGE number. Remember, RSA is only as secure as the scale of the numbers used, and this is a key generated to be used in a <em>real-world setting</em></em></li>
    </ul>
    <li>We can generate the corresponding public key from our private key as:<br><span class="code">openssl rsa -in private-key.pem -pubout -out public-key.pem</span></li>
    <ul>
        <li>This will give us something like:</li>
        <p class="mono">
            -----BEGIN PUBLIC KEY-----<br>
MDwwDQYJKoZIhvcNAQEBBQADKwAwKAIhANrdDdhzUHCHfFEnCIKLmIcHj0ZZEVVD<br>
M7L3KG1EXjFFAgMBAAE=<br>
-----END PUBLIC KEY-----
        </p>
        <li>Base64 => hex</li>
        <p class="mono">
    30 3C 30 0D 06 09 2A 86
48 86 F7 0D 01 01 01 05<br>
00 03 2B 00 30 28 02 21
00 DA DD 0D D8 73 50 70<br>
87 7C 51 27 08 82 8B 98
87 07 8F 46 59 11 55 43<br>
33 B2 F7 28 6D 44 5E 31
45 02 03 01 00 01
        </p>
    </ul>
    <li></li>
</ol>
{% endblock %}